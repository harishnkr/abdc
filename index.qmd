---
title: "ABDC Ranking List"
author: "K. Harishankar"
format: html
execute: 
  echo: false
---

```{r}
# load required packages
if (!requireNamespace("reactable", quietly = TRUE)) {
  install.packages("reactable")
}
if (!requireNamespace("reactablefmtr", quietly = TRUE)) {
  install.packages("reactablefmtr")
}

library(reactable)
library(reactablefmtr)  # for color scales & tooltips

# read CSV
df <- read.csv("data/journals.csv", stringsAsFactors = FALSE)

# render enhanced reactable
reactable(
  df,
  searchable = TRUE,             # global search bar
  pagination = TRUE,
  defaultPageSize = 25,
  highlight = TRUE,
  striped = TRUE,
  compact = TRUE,
  resizable = TRUE,               # allow resizing columns
  filterable = TRUE,              # per-column filter box
  sortable = TRUE,                # sortable columns
  defaultSortOrder = "asc",
  defaultColDef = colDef(
    minWidth = 120,
    headerStyle = list(background = "#f5f5f5"),  # light header background
    align = "left"
  ),
  columns = list(
    # Example: color-scale an "Impact" column if present
    Impact = colDef(
      style = color_scales(df, colors = c("#ffcccc", "#ccffcc")),
      format = colFormat(digits = 2),
      na = "â€”"
    ),
    # Example: tooltip for "Journal" column
    Journal = colDef(
      html = TRUE,
      cell = function(value) {
        reactablefmtr::tooltip(value, paste("Full name:", value))
      }
    )
  ),
  showPageSizeOptions = TRUE,     # user can change rows per page
  pageSizeOptions = c(10, 25, 50, 100),
  bordered = TRUE,
  wrap = FALSE,
  theme = reactableTheme(
    borderColor = "#ddd",
    highlightColor = "#f0f8ff",
    stripedColor = "#f9f9f9"
  )
)
```