---
title: "ABDC Ranking List"
author: "K. Harishankar"
format: html
execute: 
  echo: false
---

```{r}
# load required packages
if (!requireNamespace("reactable", quietly = TRUE)) {
  install.packages("reactable")
}
if (!requireNamespace("reactablefmtr", quietly = TRUE)) {
  install.packages("reactablefmtr")
}

library(reactable)
library(reactablefmtr)  # for color scales & tooltips

# read CSV
df <- read.csv("data/journals.csv", stringsAsFactors = FALSE)

# clean / reformat column names
names(df) <- c(
  "Title",
  "Publisher",
  "Field",
  "Rating",
  "ISSN",
  "ISSN Online",
  "Website"
)

df_display <-  df[, !names(df) %in% c("ISSN", "ISSN Online", "Website")]

# render enhanced reactable
reactable(
  df_display,
  searchable = TRUE,             # global search bar
  pagination = TRUE,
  defaultPageSize = 25,
  highlight = TRUE,
  striped = TRUE,
  compact = TRUE,
  resizable = TRUE,               # allow resizing columns
  filterable = TRUE,              # per-column filter box
  sortable = TRUE,                # sortable columns
  defaultSortOrder = "asc",
  showPageSizeOptions = TRUE,     # user can change rows per page
  pageSizeOptions = c(10, 25, 50, 100),
  bordered = TRUE,
  wrap = FALSE,
 columns = list(
    Title = colDef(minWidth = 200, width = 350),
    Publisher = colDef(minWidth = 150, width = 260),
    `Rating` = colDef(filterInput = "select", width = 50),
    `Field` = colDef(width = 70)
  ), 
  theme = reactableTheme(
     headerStyle = list(
      whiteSpace = "normal",
      height = "3.5em",
      lineHeight = "1.2"
    ),
    borderColor = "#ddd",
    highlightColor = "#f0f8ff",
    stripedColor = "#f9f9f9"
  )
  
)
```